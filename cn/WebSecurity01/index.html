<!DOCTYPE html>
<html lang="en">

<!-- Head tag (contains Google-Analytics、Baidu-Tongji)-->
<head>
  <!-- Google Analytics -->
  

  <!-- Baidu Tongji -->
  

  <!-- Baidu Push -->
  
    <script>
      (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
      })();
    </script>
  

  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

  <meta name="google-site-verification" content="lxDfCplOZbIzjhG34NuQBgu2gdyRlAtMB4utP5AgEBc"/>
  <meta name="baidu-site-verification" content="PpzM9WxOJU"/>

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="description" content="快乐码原是一个个人博客，包含了博主平时开发遇到的问题以及学习笔记；博主沉迷于算法、前端、爬虫，爱好广泛。"/>
  <meta name="keyword" content="快乐码原，web，App，Python，Linux，WebGL，网站，小程序，爬虫，学习博客，建模"/>
  <link rel="shortcut icon" href="/img/avatar/favicon.ico"/>

  <!-- Place this tag in your head or just before your close body tag. -->
  <script async="async" defer="defer" src="https://buttons.github.io/buttons.js"></script>

  
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/bootstrap.min.css"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/beantech.min.css"/>

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/highlight.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/widget.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/rocket.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/signature.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/catalog.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/livemylife.css"/>

    
      <!-- wave start -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/wave.css"/>
      <!-- wave end -->
    

    
      <!-- top start (article top hot config) -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/top.css"/>
      <!-- top end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/scroll.css"/>
      <!-- ThemeColor end -->
    

    
      <!-- viewer start (Picture preview) -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/viewer.min.css"/>
      <!-- viewer end -->
    

    
      <!-- Search start -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/search.css"/>
      <!-- Search end -->
    

    
      <!-- ThemeColor start -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/themecolor.css"/>
      <!-- ThemeColor end -->
    

    

    
      <!-- gitalk start -->
      <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"> -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/css/gitalk.css"/>
      <!-- gitalk end -->
    

  

  <!-- Custom Fonts -->
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- Hux change font-awesome CDN to qiniu -->
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Hux Delete, sad but pending in China <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'> <link
  href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/ css'> -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]> <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]-->

  <!-- ga & ba script hoook -->
  <link rel="canonical" href="https://yesmore.cc/cn/WebSecurity01/">
  <title>
    
      【Web安全扫盲】01-概览、常用渗透工具、信息收集 - 快乐码原 | 大Van家
    
  </title>
<meta name="generator" content="Hexo 5.4.0"></head>


<!-- hack iOS CSS :active style -->

	<body ontouchstart="" class="body--light body--light">


		<!-- ThemeColor -->
		
		<!-- ThemeColor -->
<style type="text/css">
  .body--light {
    --light-mode: none;
    --dark-mode: block;
  }
  .body--dark {
    --light-mode: block;
    --dark-mode: none;
  }
  i.mdui-icon.material-icons.light-mode {
    display: var(--light-mode);
  }
  i.mdui-icon.material-icons.dark-mode {
    display: var(--dark-mode);
  }
</style>
<div class="toggle" onclick="document.body.classList.toggle('body--dark')">
  <i class="mdui-icon material-icons light-mode"></i>
  <i class="mdui-icon material-icons dark-mode"></i>
</div>
<script>
  //getCookieValue
  function getCookieValue(a) {
    var b = document.cookie.match('(^|[^;]+)\\s*' + a + '\\s*=\\s*([^;]+)');
    return b
      ? b.pop()
      : '';
  }
  let themeMode = 'light';
  if (getCookieValue('sb-color-mode') && (getCookieValue('sb-color-mode') !== themeMode)) {
    let dbody = document.body.classList;
    themeMode === 'dark' ? dbody.remove('body--dark') : dbody.add('body--dark');
  }

  //setCookieValue
  var toggleBtn = document.querySelector(".toggle");
  toggleBtn.addEventListener("click", function () {
    var e = document.body.classList.contains("body--dark");
    var cookieString = e
      ? "dark"
      : "light";
    var exp = new Date();
    exp.setTime(exp.getTime() + 3 * 24 * 60 * 60 * 1000); //3天过期
    document.cookie = "sb-color-mode=" + cookieString + ";expires=" + exp.toGMTString() + ";path=/";
  });
</script>

		

		<!-- Gitter -->
		
		<!-- Gitter -->
<!-- Docs:https://gitter.im/?utm_source=left-menu-logo -->
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'yesmore/yesmoreforchat'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

		

		<!-- Navigation (contains search)-->
		<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header page-scroll">
      <button type="button" class="navbar-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">快乐码原</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <!-- Known Issue, found by Hux: <nav>'s height woule be hold on by its content. so, when navbar scale out, the <nav> will cover tags. also mask any touch event of tags, unfortunately. -->
    <div id="huxblog_navbar">
      <div class="navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="/">首页</a>
          </li>

          <!-- 
          
          
          
          <li>
            <a href="/about/">
              
              关于
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/algorithms/">
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/categories/">
              
              分类
              
              
            </a>
          </li>
          
          
          
          <li>
            <a href="/archives/">
              
              归档
              
              
            </a>
          </li>
          
          
          
          
          
          
          
          <li>
            <a href="/tags/">
              
              标签
              
              
            </a>
          </li>
          
          
          
          
          
           -->
          
          <li>
            <a href="/About">关于</a>
          </li>
          <li>
            <a href="/archives">归档</a>
          </li>
          <!-- <li>
            <a href="/categories">分类</a>
          </li> -->
          <li>
            <a href="/algorithms">算法</a>
          </li>
          <li>
            <a href="/categories/#WebGL">WebGL</a>
          </li>

          
          <li>
            <a class="popup-trigger">
              <span class="search-icon"></span>搜索</a>
          </li>
          

          <!-- LangSelect -->
          
        </ul>
      </div>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container -->
</nav>
<!-- progress -->
<div id="progress">
  <div class="line" style="width: 0%;"></div>
</div>

<script>
  // Drop Bootstarp low-performance Navbar Use customize navbar with high-quality material design animation in high-perf jank-free CSS3 implementation
  var $body = document.body;
  var $toggle = document.querySelector('.navbar-toggle');
  var $navbar = document.querySelector('#huxblog_navbar');
  var $collapse = document.querySelector('.navbar-collapse');

  $toggle.addEventListener('click', handleMagic)

  function handleMagic(e) {
    if ($navbar.className.indexOf('in') > 0) {
      // CLOSE
      $navbar.className = " ";
      // wait until animation end.
      setTimeout(function() {
        // prevent frequently toggle
        if ($navbar.className.indexOf('in') < 0) {
          $collapse.style.height = "0px"
        }
      }, 400)
    } else {
      // OPEN
      $collapse.style.height = "auto"
      $navbar.className += " in";
    }
  }
</script>


		<!-- Post Header (contains intro-header、signature、wordcount、busuanzi、waveoverlay) -->
		<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->

  <!-- CDN: jsdelivr start -->
  <style type="text/css">
    .body--light {
      /* intro-header */
      --intro-header-background-image-url-home: url('https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/img/header_img/bg.png');
      --intro-header-background-image-url-post: url('https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/img/header_img/archive_bg2.jpg');
      --intro-header-background-image-url-page: url('https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io//img/header_img/archive_bg2.jpg');
    }
    .body--dark {
      --intro-header-background-image-url-home: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/img/header_img/bg.png');
      --intro-header-background-image-url-post: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/img/header_img/archive_bg2.jpg');
      --intro-header-background-image-url-page: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2)), url('https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io//img/header_img/archive_bg2.jpg');
    }
    header.intro-header {
       /*post*/
        background-image: var(--intro-header-background-image-url-post);
        /* background-image: url('https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/img/header_img/archive_bg2.jpg'); */
      
    }

    
      #signature {/*signature*/
        background-image: url('/img/signature/vincent-white.png');
      }
    
  </style>
  <!-- CDN: jsdelivr end -->





<header class="intro-header">
  <!-- Signature -->
  <div id="signature">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          
          <div class="post-heading">
            <div class="tags">
              
              <a class="tag" href="/tags/#Web安全" title="Web安全"><i class="fa fa-tag" style="color: aqua;"></i> Web安全</a>
              
              <a class="tag" href="/tags/#知识扫盲" title="知识扫盲"><i class="fa fa-tag" style="color: aqua;"></i> 知识扫盲</a>
              
            </div>
            <h2>【Web安全扫盲】01-概览、常用渗透工具、信息收集</h2>
            <h3 class="subheading" style="font-size: 21px;"></h3>
            <span class="meta">
              By 大Van家 on
              2021-08-10
            </span>
            


            
            <!-- WordCount start -->
            <div class="blank_box"></div>
            <span class="meta">
              阅读时间 <span class="post-count">
                39
              </span> 分钟
            </span>
            <div class="blank_box"></div>
            <span class="meta">
              文章共 
              <span class="post-count">
                10.9k
              </span> 
              字
            </span>
            <div class="blank_box"></div>
            <!-- WordCount end -->
            
            
            <!-- 不蒜子统计 start -->
            <span class="meta" id="busuanzi_container_page_pv">
              阅读量 <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> 次
            </span>
            <!-- 不蒜子统计 end -->
            


          </div>
          
        </div>
      </div>
    </div>
  </div>

  
  <!-- waveoverlay start -->
  <div class="preview-overlay">
    <svg class="preview-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
      </defs>
      <g class="preview-parallax">
        <use xlink:href="#gentle-wave" x="48" y="0" fill=var(--gentle-wave1)></use>
        <use xlink:href="#gentle-wave" x="48" y="3" fill=var(--gentle-wave2)></use>
        <use xlink:href="#gentle-wave" x="48" y="5" fill=var(--gentle-wave3)></use>
        <use xlink:href="#gentle-wave" x="48" y="7" fill=var(--gentle-wave)></use>
      </g>
    </svg>
  </div>
  <!-- waveoverlay end -->
  

</header>



		<!-- Main Content (Post contains
	Pager、
	tip、
	socialshare、
	gitalk、gitment、disqus-comment、
	Catalog、
	Sidebar、
	Featured-Tags、
	Friends Blog、
	anchorjs、
	) -->
		<!-- Post Content -->
<article>
  <div class="container">
    <div class="row">
      <!-- Post Container -->
      <div class="col-lg-8 col-lg-offset-1 col-md-10 col-md-offset-1 post-container">

        <p>要点：web渗透、信息收集、靶场搭建、XSS、SQL注入、CSRF漏洞、SSRF漏洞、XXE漏洞、反序列化漏洞、文件上传漏洞、命令与代码注入、逻辑漏洞、内网渗透、研发安全。</p>
<span id="more"></span>
<h3 id="一、概览"><a href="#一、概览" class="headerlink" title="一、概览"></a>一、概览</h3><h4 id="1-1-Why-Web-安全？"><a href="#1-1-Why-Web-安全？" class="headerlink" title="1.1 Why Web 安全？"></a>1.1 Why Web 安全？</h4><p>随着时代的发展，如今无论是国家还是企业，都十分重视网络安全，各种相关的岗位也随之出现。在拉勾网上搜“Web 安全”就能找到相关的岗位。</p>
<p><img src="Cip5yF_ZrimAa4buAAGDyX9tPm4751.png" alt="招聘信息来源拉勾网" data-nodeid="6336"></p>
<p>根据 HackerOne 的报告数据（下图），71％ 的安全问题都出现在网站上，其次是一些 API 接口，这些接口可能是 Web 的，也有可能是二进制软件的；再往下就是 iOS 与 Android 应用了。</p>
<p><img src="Cip5yF_a9iqAG5wmAAEiks_na48436.png" alt="HackerOne 的报告数据" data-nodeid="6340"></p>
<p>可以说，网站安全攻防，也就是我们俗称的 Web 安全，占比通常达到了 80％以上。<strong>Web 安全是最受外部黑客关注的目标，也是企业应该重点防御的对象</strong></p>
<p>尽管 Web 安全如此重要，但我在面试一些渗透测试岗位的<strong>求职者</strong>时，发现多数人要么<strong>只懂得利用，不懂得防御</strong>，要么就是<strong data-nodeid="6365">缺乏实战能力</strong>。</p>
<p>企业你是想让你来发现和解决安全问题的，如果不懂防御，又如何为企业提供相应的解决方案呢？更何况 Web 安全是一项注重实战的技能，如果缺乏实战能力，到了真被入侵的时候，根本就无法应对。</p>
<p>另外，学习 Web 安全相关的知识，不仅可以帮助你提升自己，还能赚取赏金。国内外企业都有自建安全响应中心，用于接收外部报告漏洞；然后，依据漏洞危害等级和质量给予相应的赏金或礼品，比如 TSRC（腾讯安全应急响应中心）、MSRC（微软安全响应中心）。此外也有一些知名的第三方漏洞奖励平台，比如 HackerOne，上面经常会公开一些漏洞案例，非常有学习价值。</p>
<h4 id="1-2-学习模块"><a href="#1-2-学习模块" class="headerlink" title="1.2 学习模块"></a>1.2 学习模块</h4><p>分成了 3 个模块</p>
<h5 id="模块一：Web-攻防基础"><a href="#模块一：Web-攻防基础" class="headerlink" title="模块一：Web 攻防基础"></a>模块一：Web 攻防基础</h5><p>这是正式开始前的准备工作，主要介绍了一些常用的工具，并带你<strong data-nodeid="6387">搭建靶场，避免非法测试他人网站</strong>。通过这一部分的学习，你可以掌握一些常用的渗透工具和信息收集的方法，帮助你提高测试效率和成功率；搭建靶场也能让你更好地理解漏洞的产生原理和利用，提高实战能力。</p>
<h5 id="模块二：漏洞攻防原理"><a href="#模块二：漏洞攻防原理" class="headerlink" title="模块二：漏洞攻防原理"></a>模块二：漏洞攻防原理</h5><p>作为这门课最硬核的部分，在模块一的基础上，补充了一些实用的工具和测试方法（例如 sqlmap），讲解了各种常见的 Web 漏洞攻防原理，教你进行安全测试，并通过靶场进行演练。通过这一部分的学习，你可以<strong>了解 XSS、SQL 注入、CSRF 等常见 Web 漏洞类型的攻击与防御方法</strong>。只有深入学习这些漏洞攻防技术，才能避免自己成为只会使用工具的“脚本小子”。</p>
<h5 id="模块三：-Web-安全建设"><a href="#模块三：-Web-安全建设" class="headerlink" title="模块三： Web 安全建设"></a>模块三： Web 安全建设</h5><p>这里介绍的是企业内部对于 Web 安全漏洞的防御方法。<strong>如何更系统、更全面、更早地检测、修复、拦截各种漏洞，防止企业产品遭受外部利用漏洞进行恶意攻击</strong>是这一模块的重点。业务开发过程中，避免安全漏洞的产生也是一个非常重要的流程。</p>
<h4 id="1-3-How-学习web渗透技术"><a href="#1-3-How-学习web渗透技术" class="headerlink" title="1.3 How 学习web渗透技术"></a>1.3 How 学习web渗透技术</h4><h5 id="Web-所涉及的内容"><a href="#Web-所涉及的内容" class="headerlink" title="Web 所涉及的内容"></a>Web 所涉及的内容</h5><p>一般来说，我们常说的 Web 是指网站，其本义是万维网。这个实际涵盖的内容就很多了，涉及<u>浏览器、服务器运行环境等常出现内存破坏漏洞的应用和系统</u>。但是在安全行业内，我们通常所说的 Web 安全，是指 Web 应用安全，即<u>网站安全，也包含仅提供后端 CGI 服务的应用（供移动 App 调用的，无直接的前端网页），可以简单地分为前端和后端</u>，如下图所示：</p>
<p><img src="CgqCHl_Zr5-ATUhRAAMpS6Rf1Ck851.png" alt="图片1.png" data-nodeid="9229"></p>
<p>平常行业内所说的二进制安全，通常是指<u>内存破坏漏洞、逆向工程、病毒对抗</u>等涉及二进制数据分析的技术领域。虽然浏览器、Linux 系统等也是 Web 领域中的一个环节，但本课程不涉及二进制安全内容，仍以狭义上的网站安全为主要内容。<br>在学习 Web 安全的过程中，有 3 个阶段。</p>
<h4 id="1-4-三个阶段"><a href="#1-4-三个阶段" class="headerlink" title="1.4 三个阶段"></a>1.4 三个阶段</h4><h5 id="阶段一：前端知识学习"><a href="#阶段一：前端知识学习" class="headerlink" title="阶段一：前端知识学习"></a>阶段一：前端知识学习</h5><p>前端开发主要就是 HTML、CSS、JavaScript 这 3 门语言的学习。在学习前，建议先了解下 HTTP 相关的知识，掌握它的工作原理、请求方法、响应头、状态码、内容类型等等</p>
<p>学完之后，直接用 Chrome 浏览器的检查器（快捷键 F12 或 Ctrl+Shift+I）里的“Network”标签查看 HTTP 请求与响应包数据，如下图所示：</p>
<p><img src="Cip5yF_Zr76AWiNtAAQSZ-8_J_I002.png" alt="Chrome 浏览器的 HTTP 请求与响应包数据g" data-nodeid="9247"></p>
<h5 id="阶段二：后端知识学习"><a href="#阶段二：后端知识学习" class="headerlink" title="阶段二：后端知识学习"></a>阶段二：后端知识学习</h5><p>随着 Node.js 的崛起，很多后端也开始用前端语言 JavaScript 来开发后端功能。Node.js 基于 Chrome V8 提供的 JavaScript 运行环境，非常适合前端工程师作为进军后端开发的阶梯。关于 Node.js 教程的链接在文末的“其他资料”一节中已附上。<br>更为传统的后端开发经常是搭配 PHP+MySQL 数据库。以下是 2020 年 W3Tech 对当前 Web 开发技术的调查情况，其结果表明全球 78.8% 的网站使用 PHP 作为服务器后端开发语言。</p>
<p><img src="CgpVE1_Zr9CANWyzAAU-P_qrIcA458.png" alt="2020 年 W3Tech 对当前 Web 开发技术的调查情况" data-nodeid="9288"></p>
<h5 id="阶段三：漏洞攻防学习"><a href="#阶段三：漏洞攻防学习" class="headerlink" title="阶段三：漏洞攻防学习"></a>阶段三：漏洞攻防学习</h5><p>Web 漏洞包含哪一些主流的漏洞类型，最佳的参考就是 OWASP Top 10，不过它在 2017 年之后就停止更新维护了。以下是当前的官方统计结果，按顺序排名。</p>
<ol>
<li><p><strong>注入</strong>：SQL、NoSQL 数据库注入，还有命令注入和 LDAP 注入等。</p>
</li>
<li><p><strong>失效的身份认证和会话管理</strong>：比如攻击者破解密码、窃取密钥、会话令牌或其他漏洞去冒充他人的身份。</p>
</li>
<li><p><strong>跨站脚本（XSS）</strong>：XSS 允许攻击者在受害者的浏览器上执行恶意脚本，从而劫持用户会话、钓鱼欺骗等等。</p>
</li>
<li><p><strong>失效的访问控制</strong>：比如越权访问其他用户的个人资料、查看敏感文件、篡改数据等。</p>
</li>
<li><p><strong>安全配置错误</strong>：比如服务器的不安全配置，导致敏感信息泄露。</p>
</li>
<li><p><strong>敏感信息泄露</strong>：比如账号密码未加密存储、敏感数据传输时未加密保护，最终造成数据泄露。</p>
</li>
<li><p><strong>攻击检测与防护不足</strong>：比如 WAF、主机入侵检测等防御系统部署不全，这块偏向漏洞防御本身。</p>
</li>
<li><p><strong>跨站请求伪造（CSRF）</strong>：攻击者诱使其他登录用户访问恶意站点，以冒用对方的身份执行一些敏感操作。</p>
</li>
<li><p><strong>使用含有已知漏洞的组件</strong>：比如一些第三方的开源库、框架等，尤其是已公开漏洞的旧版本，比如名燥一声的 Struts2 漏洞，因频繁出现漏洞被许多开发者弃用。</p>
</li>
<li><p><strong>未受有效保护的 API</strong>：比如浏览器和移动 App 中的 JavaScript API，常常因其提供的特殊功能未受有效保护而被滥用，造成不同等级的危害程度。</p>
</li>
</ol>
<blockquote>
<p>推荐书籍：《黑客攻防技术宝典：Web 实战篇》和《白帽子讲 Web 安全》</p>
</blockquote>
<h4 id="1-5-学习技巧"><a href="#1-5-学习技巧" class="headerlink" title="1.5 学习技巧"></a>1.5 学习技巧</h4><h5 id="面向岗位学习"><a href="#面向岗位学习" class="headerlink" title="面向岗位学习"></a>面向岗位学习</h5><p><img src="CgpVE1_Zr-WAMAhNAAFcqtWjIv0666.png" alt="招聘信息"></p>
<p>关键在于“任职要求”，一般招聘信息里面都会有“职位描述”和“任职要求”或“岗位要求”的信息，“任职要求”里面与技术相关要求就是你要学习的方向。比如上图 360 的招聘信息，总结下技术要求就是：<strong>熟悉 Web 漏洞攻防、工具实战、开发能力</strong>。</p>
<h5 id="面向赏金学习"><a href="#面向赏金学习" class="headerlink" title="面向赏金学习"></a>面向赏金学习</h5><p>当前国内 SRC（安全响应中心）平台早已是企业标配，各家各户有能力的都在自建，没能力没条件的就寄托在第三方漏洞平台上。无论是自建的还是寄托在第三方漏洞平台上的，它们的目的只有一个，那就是收集自家产品漏洞，提高产品安全性，完善自身检测与防御系统，同时避免被公关炒作。<br>SRC 平台会给报告者提供奖品或现金奖励，因此长期吸引着大批白帽子为其测试网站。国外比较著名的漏洞奖励平台有 HackerOne，像微软 Google、Apple 也都有自己的漏洞奖励计划，但因后者都是美金奖励，在汇率的优势下，奖金换算成人民币，常常价值不低。这也是一些老白帽子更喜欢混迹于国外漏洞奖励平台的原因。<br><strong>Web 漏洞常常都能够直观地危害到网站的安全性</strong>。它们整体上相比二进制漏洞更容易被利用，危害也就更大。除了像微软、Google、Apple 这种集中在二进制漏洞为主的奖励计划，很多赏金其实都是分给了 Web 漏洞，比如 SRC、HackerOne。<br>你可以根据漏洞奖励计划中提供的网站范围，有针对性地进行安全测试，然后将发现的漏洞报给平台换取赏金。这种以赏金为驱动力的学习方式，对于在校生特别有诱惑力。他们可以通过赏金购买书籍、电子产品进一步学习，然后挖掘更多漏洞，赚取更多赏金，将学习转变为主动学习，构造出良性特征的学习动力。<br>采用面向赏金的学习方法，不仅可以提高自身的漏洞实战能力，而且还可以赚取赏金，何乐而不为？</p>
<h5 id="面向工具学习"><a href="#面向工具学习" class="headerlink" title="面向工具学习"></a>面向工具学习</h5><p>GitHub 上经常开源一些优秀的安全工具，在 Web 安全领域，以 sqlmap 最为著名。整个项目非常工程化，表现能力也非常优秀。它采用 Python 开发，通过阅读 sqlmap 源码，对研究 SQL 注入漏洞有很大的帮助。<br>其他的还有一些漏洞靶场，除了实战测试，也可以通过源码了解是什么样的代码导致的漏洞，避免自己在未来开发中遇到。<br>一些优秀的开源工具，常会提供一些不错的漏洞检测和利用的方向，及时掌握相关技术，有助于自身技术的与时俱进，避免落后于技术发展。</p>
<h5 id="面向漏洞学习"><a href="#面向漏洞学习" class="headerlink" title="面向漏洞学习"></a>面向漏洞学习</h5><p>在国外有词叫 Variant Analysis，直译过来叫“变异分析”，意思是通过历史漏洞学习和研究，从而挖掘出类似产品中更多相似的漏洞。尤其是同一款产品下，如果开发写出了一个漏洞，那么在其他地方出现同一类漏洞的概率就比较大。<br>乌云网已经成为历史，但其遗留下的漏洞案例是一笔不错的财富。网上也有人搭建了乌云镜像提供相关的漏洞、知识库的检索，你可以点击链接查看。<br>HackerOne 通常在漏洞修复后的 3 个月会公开漏洞细节，栏目名叫“Hacktivity”，它提供 RSS 订阅，可以非常方便地关注。</p>
<p><img src="Ciqc1F_ZsIyAXEQjAANXYn70e8c897.png" alt="图片5.png" data-nodeid="9438"></p>
<p>说到漏洞库就不得不提 Exploit-db，其中有着丰富的漏洞细节和利用代码。2014 年那时还是一个叫 milw00rm 的漏洞库为主流，milw00rm 不再维护后，所有漏洞信息都被并入了 Exploit-db。至今，Exploit-db 还在正常运营，其背后的团队正是打造了著名黑客系统 Kali 的 Offensive-Security 安全公司，是一家专门从事安全培训和渗透测试服务的提供商。</p>
<p><img src="Cip5yF_ZsJiAAv-dAASNGdT-lWY809.png" alt="Exploit-db" data-nodeid="9442"></p>
<p>这种通过漏洞学习漏洞的方式，除了加深对漏洞的理解，还可以提高漏洞挖掘的产出，是一种十分有效地学习方式。</p>
<h5 id="面向大牛学习"><a href="#面向大牛学习" class="headerlink" title="面向大牛学习"></a>面向大牛学习</h5><p>在你感兴趣的安全领域里，通常都有一些大牛，你可以去收集他们发表的论文、文章、大会议题，关注他们的微博、公众号、Twitter、GitHub、博客等社交平台账号，去了解他们的技术成长路线。<br>这种学习方法，前期以模仿为主，参考他们的学习方法、技术文章，把握行业技术趋势；后期是在入门之后，有了一定的技术积累，就可以开始在前人的基础上自主研究技术、创新技术，这是比较难的一个阶段，但突破后，你在技术上将会有质的飞跃。</p>
<h5 id="关注安全动态"><a href="#关注安全动态" class="headerlink" title="关注安全动态"></a>关注安全动态</h5><p>技术发展非常迅速，一不留眼你就落后了，所以要避免闭门造车，比如诺基亚的塞班、微软的 Windows Mobile，现在都退出了历史舞台，如果你之前不关注这些，还在埋头研究它们的安全性，那就有点浪费时间了。<br>你可以关注一些技术资讯网站、公众号、Twitter、Github、博客、RSS 订阅集合，国内外安全大会（工业界顶会：BlackHat、Defcon、CanSecWest、OffensiveCon，学术界顶会：CCS、NDSS、Oakland S&amp;P、USENIX Security），以及 CTF 比赛等。这些都可以帮你了解安全动态的途径。<br>在文末的“网站推荐”中，我已经整理一份清单，建议你采用 RSS 订阅的方式关注，手机上装个 RSS 订阅客户端，比如 Inoreader、Feedly、深蓝阅读，一有更新就可以立马感知到，非常方便。</p>
<h4 id="1-6-学习资料清单"><a href="#1-6-学习资料清单" class="headerlink" title="1.6 学习资料清单"></a>1.6 学习资料清单</h4><h5 id="书籍清单"><a href="#书籍清单" class="headerlink" title="书籍清单"></a>书籍清单</h5><div class="table-container">
<table>
<thead>
<tr>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>《JavaScript DOM 编程艺术》：<a target="_blank" rel="noopener" href="https://item.jd.com/10603153.html">https://item.jd.com/10603153.html</a></td>
</tr>
<tr>
<td>《JavaScript 高级程序设计》：<a target="_blank" rel="noopener" href="https://item.jd.com/12958580.html">https://item.jd.com/12958580.html</a></td>
</tr>
<tr>
<td>《PHP 和 MySQL Web 开发》：<a target="_blank" rel="noopener" href="https://item.jd.com/10059047.html">https://item.jd.com/10059047.html</a></td>
</tr>
<tr>
<td>《黑客攻防技术宝典：Web 实战篇》：<a target="_blank" rel="noopener" href="https://item.jd.com/11020022.html">https://item.jd.com/11020022.html</a></td>
</tr>
<tr>
<td>《白帽子讲 Web 安全》：<a target="_blank" rel="noopener" href="https://item.jd.com/11483966.html">https://item.jd.com/11483966.html</a></td>
</tr>
<tr>
<td>《Web 安全测试》：<a target="_blank" rel="noopener" href="https://item.jd.com/10021008335997.html">https://item.jd.com/10021008335997.html</a></td>
</tr>
<tr>
<td>《Web 前端黑客技术揭秘》：<a target="_blank" rel="noopener" href="https://item.jd.com/11181832.html">https://item.jd.com/11181832.html</a></td>
</tr>
<tr>
<td>《SQL 注入攻击与防御》：<a target="_blank" rel="noopener" href="https://item.jd.com/12369984.html">https://item.jd.com/12369984.html</a></td>
</tr>
<tr>
<td>网络安全从业者书单推荐：<a target="_blank" rel="noopener" href="https://github.com/riusksk/secbook">https://github.com/riusksk/secbook</a></td>
</tr>
</tbody>
</table>
</div>
<h5 id="网站推荐"><a href="#网站推荐" class="headerlink" title="网站推荐"></a>网站推荐</h5><div class="table-container">
<table>
<thead>
<tr>
<th>FreeBuf：<a target="_blank" rel="noopener" href="https://www.freebuf.com">https://www.freebuf.com</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>安全客：<a target="_blank" rel="noopener" href="https://www.anquanke.com">https://www.anquanke.com</a></td>
</tr>
<tr>
<td>Seebug Paper：<a target="_blank" rel="noopener" href="https://paper.seebug.org">https://paper.seebug.org</a></td>
</tr>
<tr>
<td>安全 RSS 订阅：<a target="_blank" rel="noopener" href="http://riusksk.me/media/riusksk_RSS_20190330.xml">http://riusksk.me/media/riusksk_RSS_20190330.xml</a></td>
</tr>
<tr>
<td>CTFTime Writeups：<a target="_blank" rel="noopener" href="https://ctftime.org/writeups">https://ctftime.org/writeups</a></td>
</tr>
<tr>
<td>安全脉搏：<a target="_blank" rel="noopener" href="https://www.secpulse.com">https://www.secpulse.com</a></td>
</tr>
<tr>
<td>SecWiki：<a target="_blank" rel="noopener" href="https://www.sec-wiki.com">https://www.sec-wiki.com</a></td>
</tr>
<tr>
<td>玄武每日安全：<a target="_blank" rel="noopener" href="https://sec.today/pulses">https://sec.today/pulses</a></td>
</tr>
<tr>
<td>学术论文检索：<a target="_blank" rel="noopener" href="https://arxiv.org/search/cs">https://arxiv.org/search/cs</a></td>
</tr>
<tr>
<td>Exploit-db：<a target="_blank" rel="noopener" href="https://www.exploit-db.com">https://www.exploit-db.com</a></td>
</tr>
<tr>
<td>Github：<a target="_blank" rel="noopener" href="https://github.com">https://github.com</a></td>
</tr>
<tr>
<td>信息安全知识库：<a target="_blank" rel="noopener" href="https://vipread.com">https://vipread.com</a></td>
</tr>
<tr>
<td>先知社区：<a target="_blank" rel="noopener" href="https://xz.aliyun.com">https://xz.aliyun.com</a></td>
</tr>
</tbody>
</table>
</div>
<h3 id="二、常用渗透测试工具"><a href="#二、常用渗透测试工具" class="headerlink" title="二、常用渗透测试工具"></a>二、常用渗透测试工具</h3><h4 id="Burp-Suite"><a href="#Burp-Suite" class="headerlink" title="Burp Suite"></a>Burp Suite</h4><p>Burp Suite：集成化的 Web 应用测试工具</p>
<p>使用 Burp Suite 前需要配置浏览器代理，这样才能将 HTTP/HTTPS 请求转发到 Burp Suite 上进行分析与测试</p>
<p>在 Chrome 的设置中搜索“代理”会让你选择“打开您计算机的代理设置”，如下图所示：</p>
<p><img src="Cip5yF_ZsVeACMEcAAIScM5BkEE861.png" alt="Chrome 代理设置" data-nodeid="1758"></p>
<p>打开之后你就可以设置 HTTP/HTTPS 代理为 Burp Suite 的对应端口，默认为 127.0.0.1:8080。下面两张图分别是系统和 Burp Suite 上的代理设置页面：</p>
<p><img src="Cip5yF_ZsWiAZ9iGAACtiDp2x7A093.png" alt="系统代理设置页面" data-nodeid="1762"></p>
<p><img src="Ciqc1F_ZsXSAHU-wAAA9V42FWPM054.png" alt="Burp Suite 代理设置页面" data-nodeid="1765"></p>
<p>如果每次使用都要进行这样的配置代理其实还挺麻烦的，毕竟有时也得正常地使用浏览器上网。我在这里推荐个小技巧：你可以使用 Chrome 上的插件“<strong data-nodeid="1771">Proxy SwitchyOmega</strong>”来快速切换代理，如果你用的是 FireFox，那可以使用 FoxyProxy 插件。</p>
<p>在 Chrome 应用商店中搜索“Proxy SwitchyOmega”并安装它，然后像下图这样配置：</p>
<p><img src="CgqCHl_ZsX2ANrS4AAEIEgIoD68852.png" alt="Proxy SwitchyOmega 配置" data-nodeid="1775"></p>
<p>配置完成后你就可以在 Chrome 浏览器右上角的插件栏中点击“Proxy SwitchyOmega”插件图标，选择上面创建的“Burp Suite”情景模式开启代理，若想关闭代理直接选择“系统代理”即可。</p>
<p><img src="Cip5yF_ZsZWAONnTAALKGIyBcc4584.png" alt="Proxy SwitchyOmega 快速代理展示" data-nodeid="1779"></p>
<p>下图是代理成功后，Burp Suite 拦截到流量的效果图：</p>
<p><img src="Cip5yF_ZsaKAVGGeAAJbFdx82DU937.png" alt="Burp Suite 代理成功" data-nodeid="1783"></p>
<p>其他更详细的 Burp Suite 功能，你可以参考<a target="_blank" rel="noopener" href="https://portswigger.net/burp/documentation/contents" data-nodeid="1787">Burp Suite Document</a>和<a target="_blank" rel="noopener" href="https://t0data.gitbooks.io/burpsuite/content/" data-nodeid="1791">Burp Suite 实战指南</a>这两份资料学习，此处不再展开。</p>
<h4 id="Acunetix-WVS"><a href="#Acunetix-WVS" class="headerlink" title="Acunetix WVS"></a>Acunetix WVS</h4><p>Acunetix WVS（Web Vulnerability Scanner）是 Web 漏洞扫描器。</p>
<p><img src="CgqCHl_ZscGAeTzSAAIginYu50Q791.png" alt="Acunetix WVS" data-nodeid="1797"></p>
<p><strong data-nodeid="1802">WVS 支持登录态扫描，可以登录账号访问需要权限的页面，从而爬取更多 URL，提高漏洞发现率</strong>。这个功能很重要，有些网页的功能全都要求登录，如果没有这一步设置，你什么也扫不到。不过现在很多扫描器也支持登录态扫描了。</p>
<h4 id="Xray"><a href="#Xray" class="headerlink" title="Xray"></a>Xray</h4><p>Xray：Web 漏洞扫描器</p>
<p>随着 WVS 的没落，国内的长亭科技出了一款叫作 Xray 的漏洞扫描器，现在国内不少白帽子开始使用它。他们会自己开发一些自动化工具去爬虫，然后导入地址到 WVS 和 Xray 扫描（参考资料：<a target="_blank" rel="noopener" href="https://github.com/ox01024/Xray_and_crwlergo_in_server" data-nodeid="1821">Xray_and_crwlergo_in_serve</a>、<a target="_blank" rel="noopener" href="https://github.com/timwhitez/crawlergo_x_XRAY" data-nodeid="1829">crawlergo_x_XRAY</a>），在扫到漏洞后，微信会自动通知。</p>
<p><img src="Cip5yF_Zsc6AaAIpAADD4PGQU64235.png" alt="Xray"></p>
<p><strong data-nodeid="1839">Xray 的准确率要比 WVS 高，但漏洞发现率不是很高</strong>，经常扫完后报告是空的，而且 Xray 的扫描速度很慢，还有一定优化的空间。</p>
<h4 id="Goby"><a href="#Goby" class="headerlink" title="Goby"></a>Goby</h4><p>Goby：基于网络空间测绘的漏洞扫描器。</p>
<p>Goby 是一款国内新出的安全扫描器，它基于网络空间测绘技术进行资产收集，也就是先通过对目标网络的 IT 资产进行规则分析，建立知识库，在发生安全事件时就能直接用于应急响应，这项功能比较适合企业内部。Goby 属于免费的工具，且跨平台支持 Windows、Linux 和 macOS，界面不错，还提供了多个皮肤。</p>
<p><img src="Cip5yF_ZsduADxmJAAQFbh7gdPE888.png" alt="Goby" data-nodeid="1844"></p>
<p><strong data-nodeid="1853">Goby 有个比较实用的功能，那就是支持自定义规则的漏洞扫描框架</strong>。它本身也会收集一些产品的 PoC（概念证明，常被用于验证是否存在漏洞，如下图所示），同时在外部曝光或自主挖掘到漏洞时，借助该框架添加规则，可以快速去扫描相关资产是否存在漏洞，<strong data-nodeid="1854">对于企业应急和个人刷 SRC 平台漏洞是一个神器</strong>。</p>
<p><img src="Cip5yF_ZseWAdqgJAAGCxqkdD48418.png" alt="Goby 收集的 PoC" data-nodeid="1857"></p>
<p>Goby 的使用可以参考<a target="_blank" rel="noopener" href="https://cn.gobies.org/docs.html?v=1" data-nodeid="1861">官方文档</a>中的内容。</p>
<h4 id="SQLMap"><a href="#SQLMap" class="headerlink" title="SQLMap"></a>SQLMap</h4><p>SQLMap：SQL 注入检测与利用</p>
<p>SQLMap 无疑是 SQL 注入工具中的王者。在 SQL 注入漏洞检测与利用上，SQLMap 提供了非常全面的功能，哪怕是一些漏洞无法检测到，许多白帽子仍习惯在上面做二次开发，或者利用 tamper 脚本来扩展。</p>
<p><img src="CgqCHl_ZsfSAc3xqAAlj1Wt1MjA788.png" alt="SQLMap"></p>
<p>后面将会使用此工具学习。详细的使用方法可以从<a target="_blank" rel="noopener" href="http://sqlmap.org/" data-nodeid="1875">官网</a>了解。</p>
<h4 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h4><p>Nmap：网络扫描与主机检测。</p>
<p>Nmap 有界面版本和命令行版本</p>
<p><img src="CgqCHl_ZsgKARmaVAAIlxL9iyXY234.png" alt="Nmap 界面版本" data-nodeid="1881"></p>
<p><img src="CgqCHl_ZshKAJg3QAAgAnpqJC2Y626.png" alt="Nmap 命令行版本" data-nodeid="1884"></p>
<p>很多人只知道 Nmap 可用于端口扫描和主机服务识别，但实际上它远不止如此。Nmap 提供的丰富脚本，大大扩展了它的功能，它可以探测弱口令，甚至是漏洞扫描。Nmap 的功能十分强大，需要你慢慢探索。</p>
<p>关于 Nmap 详细的使用说明，你可以参考<a target="_blank" rel="noopener" href="https://nmap.org/book/toc.html" data-nodeid="1889">官方文档</a></p>
<p>在“信息收集”一节中，会使用nmap。</p>
<h4 id="Postman"><a href="#Postman" class="headerlink" title="Postman"></a>Postman</h4><p>Postman：模拟发包工具</p>
<p>虽然 Burp Suite 功能强大，但有时会觉得开启代理麻烦，对于能在浏览器上直接完成的，一般都不开 Burp Suite 操作。</p>
<p>Chrome 上自带的开发者工具可以直接抓包查看：通过在网页右击，选择“检查”即可打开；然后切换到“Network”标签页，操作网页后即可获取到网络请求包，但它不支持拦截修改请求包。</p>
<p><img src="Ciqc1F_ZshyALB-qAAGumg9CRg0315.png" alt="Chrome 抓包" data-nodeid="1896"></p>
<p><strong data-nodeid="1901">如果你想直接构造请求去发包，或者用来测试一些网络接口的调用，那使用 Postman 再适合不过了</strong>。安装完 Postman 后，通过 Chrome 标签栏的“应用”即可打开 Postman。</p>
<p><img src="Ciqc1F_ZsiaAL7vJAADOYBSf2OE763.png" alt="Chrome “应用”标签" data-nodeid="1904"></p>
<p><img src="Ciqc1F_ZsjGAYczeAAXvGuO1mGE366.png" alt="Postman" data-nodeid="1907"></p>
<p>Postman 也支持网络拦截来修改数据包重发，但需要另外安装个插件“Postman Interceptor”，我感觉没有 Burp Suite 来得好用和强大，因此我很少用它。关于 Postman 更多的使用方法，可以参考<a target="_blank" rel="noopener" href="https://learning.postman.com/docs/getting-started/introduction/" data-nodeid="1911">官方文档</a></p>
<p>对于 Postman 与 Burp Suite，<strong data-nodeid="1926">轻量操作可以选择 Postman</strong>，比如单纯发包测试接口，又懒得配置代理的操作；<strong data-nodeid="1927">如果你需要更多安全测试方面的功能</strong>，比如改包、批量发包测试用来暴力猜解密码或遍历信息，<strong data-nodeid="1928">那么 Burp Suite 无疑是最佳的选择</strong>。</p>
<h4 id="HackBar"><a href="#HackBar" class="headerlink" title="HackBar"></a>HackBar</h4><p>HackBar：安全测试插件</p>
<p>HackBar 是一款非常经典的 Web 安全测试插件，最早出现在 FireFox 浏览器中，后来也被移植到了 Chrome。它可以用来构造 GET/POST 请求，自带一些编码解码工具，以及 XSS 和 SQL 注入常用测试用例，能为你在实际测试中提供很大的便利。</p>
<p><img src="Cip5yF_ZskSAMLsBAAFVySz_ctA678.png" alt="HackBar" data-nodeid="1933"></p>
<p>HackBar 的功能跟 Postman 有些类似，都是用来模拟发包的工具，<strong data-nodeid="1939">但 HackBar 显然是为专业的安全人员开发的，而 Postman 虽然有很多开发在用，但常被用来测试一些网络 API 接口</strong>。</p>
<p>HackBar 使用非常简单，正如它简洁的界面一样，所有的功能都可以很快上手，用几次基本就熟练了。无论是 HackBar 还是 Postman，你都可以试一下，选择自己顺手的工具即可。不管什么工具，能够帮助你挖到漏洞的都是好工具。</p>
<h4 id="NC（NetCat）"><a href="#NC（NetCat）" class="headerlink" title="NC（NetCat）"></a>NC（NetCat）</h4><p>NC（NetCat）：网络瑞士军刀</p>
<p>简单易用，功能强大，在行业内非常流行。在实际渗透测试中，常用的有两个功能：</p>
<ul>
<li>监听端口以等待后门回连</li>
<li><strong data-nodeid="1952">发包测试</strong>，有时请求包内容较多，可以放在一个文件里面直接提交（不局限 http/https 这种请求），其他任意端口都支持，所以它要比 postman 和 hackbar 这些发包工具的应用范围要广。</li>
</ul>
<p>除此之外 NC 还有其他功能，比如端口扫描、作为代理来端口转发数据，甚至可以在两台主机之间搭建起聊天室。</p>
<p><img src="CgpVE1_ZsmOAJ1y7AADZnpy2HvE117.png" alt="NC" data-nodeid="1956"></p>
<p>更多 NC 命令参数的使用，可以通过 man nc 命令来查看。</p>
<h4 id="Metasploit"><a href="#Metasploit" class="headerlink" title="Metasploit"></a>Metasploit</h4><p>Metasploit：渗透测试平台</p>
<p>Metasploit 在渗透测试中经常被使用到，它不是一个单纯的工具，而是一个集成各种渗透测试工具的平台，上面有很多漏洞利用工具，还有免杀处理、后门生成与留存、远程控制等很多强大的功能。</p>
<p><img src="CgpVE1_ZsnGAdzeMAADU1Q17564791.png" alt="Metasploit" data-nodeid="1962"></p>
<p><strong data-nodeid="1968">Metasploit 在主机渗透，甚至是当前移动手机上的渗透测试都可以使用</strong>，所以这里我非常推荐你去好好研究一下 Metasploit 平台的应用。</p>
<p>国内外已经出版了很多本关于 Metasploit 的书籍，你也可以直接阅读<a target="_blank" rel="noopener" href="https://docs.rapid7.com/metasploit/" data-nodeid="1972">官方文档</a>。</p>
<h3 id="三、信息收集"><a href="#三、信息收集" class="headerlink" title="三、信息收集"></a>三、信息收集</h3><h4 id="3-1-信息收集分类"><a href="#3-1-信息收集分类" class="headerlink" title="3.1 信息收集分类"></a>3.1 信息收集分类</h4><p>根据收集方式的不同，我们可以将信息收集分为两类：主动收集和被动收集。</p>
<ul>
<li>主动收集是指<strong>通过扫描确认目标的操作系统和网络服务</strong>，为后续发现漏洞提供信息帮助，但它可能引起目标的注意，或被记录下扫描行为。一些服务指纹检测、网站爬虫都是主动收集的方式，它们直接向目标发起请求，在有防火墙的情况下，可能会被拦截告警。</li>
<li>被动收集是指在<strong>不接触目标的情况下，通过互联网搜索来收集目标遗留在网络中的信息</strong>。这样可以避免引起目标的警觉。网上很多人说的<strong>公开来源情报</strong>（Open-Source Intelligence，OSINT，简称“开源情报”）正是需要被动收集的信息，它是从公共资源中收集到的。</li>
</ul>
<p>综上可以看出，主动收集与被动收集的主要区别就在于收集信息的过程中是否需要接触目标。在实际渗透测试过程中，一般两种方法都会用上，以收集更多有价值的信息</p>
<p>在收集信息时，无论是主动还是被动，都建议使用小号，尤其是在一些社交平台上的信息收集，小号可以避免行为暴露。</p>
<h4 id="3-2-信息收集实践"><a href="#3-2-信息收集实践" class="headerlink" title="3.2 信息收集实践"></a>3.2 信息收集实践</h4><p>收集子域名和 IP 常常是信息收集的开端，这对你摸清整个目标的资产起着很关键的作用，它们直接决定了渗透目标范围的大小。当然，有时候渗透测试任务直接限死子域名，这种情况下这一步就可以直接省略了。</p>
<p>在 GitHub 上有一个开源项目，叫 <a target="_blank" rel="noopener" href="https://github.com/arkadiyt/bounty-targets-data">bounty-targets-data</a>，它会收集一些漏洞奖励计划中的域名范围，并在持续更新，目前已经收集了 2000 多个域名。对于喜欢刷漏洞奖励平台的同学，bounty-targets-data 确实是一份不错资源，它可以开启循环扫描，不停地去扫这些有奖励计划的域名，运气好的话，可以挖到漏洞拿奖金。</p>
<p>关于收集子域名的技术原理在《<a target="_blank" rel="noopener" href="https://security.tencent.com/index.php/blog/msg/161">红蓝对抗之域名搜集方法总结</a>》中有详细的介绍，主要包括证书透明度、DNS 查询、Whois 查询、备案网站、搜索引擎、暴力猜测等多种方法实现。</p>
<p>收集子域名可以通过一些在线网站或者本地工具来收集，常用的工具或站点有 OneForAll、subDomainsBrute、subfinder、ESD、Amass、DNSDumpster 和 Subdomain Finder。</p>
<h5 id="OneForAll"><a href="#OneForAll" class="headerlink" title="OneForAll"></a><a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">OneForAll</a></h5><p>在功能上非常集全，使用字典爆破、证书透明度、常规检查（域传递、sitemap 文件、robts 文件、内容安全策略 csp 等）、网络爬虫、DNS 数据集、DNS 查询、威胁情报平台、搜索引擎等多种方式，也支持多种文件格式导出。OneForAll 收集到的有效域名很多，但经常会有误报，速度也相对比较慢。</p>
<p>使用示例如下：</p>
<p><code>python3 oneforall.py --target lagou.com run</code></p>
<p><img src="CgpVE1_Zs8GACtELAAPLVt3Jvzo273.png" alt="OneForAll" data-nodeid="15548"></p>
<h5 id="subDomainsBrute"><a href="#subDomainsBrute" class="headerlink" title="subDomainsBrute"></a>subDomainsBrute</h5><p>采用暴力猜解域名的方式，速度快、准确度高。但由于是字典猜解方式，仍会存在一定的漏报。</p>
<p><img src="Cip5yF_Zs8mAA8mZAABmufeGtgo263.png" alt="subDomainsBrute 运行效果图" data-nodeid="15555"></p>
<p><img src="CgqCHl_Zs9CAAyGNAAGHTTFk6E8801.png" alt="subDomainsBrute 爬取的域名结果图" data-nodeid="15558"></p>
<p>同一域名有时会有指向多个 IP 地址情况，因为企业可能采用 CDN 内容分发网络，就近选择网络最好的节点服务器响应用户。因此，有时同一台机器访问同一个域名时，会访问到不同的 IP，比如 weixin.lagou.com 就是如此。</p>
<p><img src="Ciqc1F_Zs9iAPsGyAAEeKOg3y5k105.png" alt="同一个域名的不同 IP" data-nodeid="15562"></p>
<p>subDomainsBrute 也会将同一域名指向的多个 IP 一并收集起来，但如果超过 10 个 IP 就会放弃收集。</p>
<p>使用示例如下：<br><code>python3 subDomainsBrute.py lagou.com</code></p>
<h5 id="subfinder"><a href="#subfinder" class="headerlink" title="subfinder"></a>subfinder</h5><p>subfinder 的扫描速度很快，它支持很多第三方 API 接口（需要配置），同时支持多种输出格式，但 subfinder 没有字典爆破域名的功能。</p>
<p>使用示例如下：<br><code>subfinder -d lagou.com</code></p>
<p><img src="Ciqc1F_Zs-yAEoFuAADD99-z4Ik735.png" alt="subfinder" data-nodeid="15572"></p>
<h5 id="ESD"><a href="#ESD" class="headerlink" title="ESD"></a>ESD</h5><p>ESD支持域名爆破、DNS 解析、域传递、搜索引擎、证书透明度等多种搜索方式，还支持 zoomeye、censys、fofa、shodan 等网络空间搜索引擎的接口结果收集，这个需要在配置文件中设置 key 或者账密才能使用。</p>
<p>使用示例如下：<br><code>esd -d lagou.com</code></p>
<p><img src="Ciqc1F_Zs_iABcOrAALV9jkN3Zo313.png" alt="Drawing 5.png" data-nodeid="15581"></p>
<h5 id="Amass"><a href="#Amass" class="headerlink" title="Amass"></a>Amass</h5><p>Amass是一款 OWASP 出口的资产搜索工具，除了常规的域名收集方式，它还支持搜索结果可视化，并能从很多网站和 API 收集子域名。另外，它提供了一套类似 Nmap 的脚本引擎，支持用户自定义数据源以扩展搜索范围。它的扫描速度非常慢，但能够收集到非常多的子域名信息。</p>
<p>以 lagou.com 为例，它共收集到了 40769 个子域。这数据相当多了，不过里面有不少是跳转到主页 lagou.com 的，实际没有单独的子域网站，即不同域名指向同一台服务器，或者是直接 302 跳转到主页的情况。这些子域在网站扫描时可以考虑去重，避免重复扫描。</p>
<p>使用示例如下：</p>
<p><code>amass enum -o out.txt -d lagou.com</code></p>
<p><img src="CgqCHl_ZtAWATELmAAGlhU6Ab50316.png" alt="Drawing 6.png" data-nodeid="15590"></p>
<h5 id="DNSDumpster"><a href="#DNSDumpster" class="headerlink" title="DNSDumpster"></a>DNSDumpster</h5><p>DNSDumpster可以在线搜索子域名以及相应的 IP 地址，提供 xlsx 文件导出，以及整个域名映射关系图、IP 分布地图等信息，在展示和准确度上还是不错的。它的搜索速度也很快，但就是子域收集相对少很多。</p>
<p><img src="CgqCHl_ZtA2AdSg9AAJyoGGL9kE009.png" alt="Drawing 7.png" data-nodeid="15597"></p>
<h5 id="Subdomain-Finder"><a href="#Subdomain-Finder" class="headerlink" title="Subdomain Finder"></a>Subdomain Finder</h5><p>Subdomain Finder支持在线搜索子域名以及相应的 IP 地址。它的扫描速度很快，若没有显示 IP 则代表域名没有绑定有效的网络服务器，或者无法访问该域名。在界面上，它直接提供“Check Status”功能来检测网站的访问状态。该网站上还提供有“Private scan”功能，可以防止扫描时被记录。但它的不足之处在于，扫描结果无法直接导出文件到本地。</p>
<p><img src="Cip5yF_ZtBWAJtG0AAIX71NtOjI255.png" alt="Drawing 8.png" data-nodeid="15604"></p>
<h4 id="3-3-端口服务检测"><a href="#3-3-端口服务检测" class="headerlink" title="3.3 端口服务检测"></a>3.3 端口服务检测</h4><p>在上一讲常用的渗透测试工具中介绍了 Nmap，用它来扫描端口服务就足够了。那我们为什么要做端口服务探测呢？</p>
<p>近期 FBI 发布紧急警告称，SonarQube 商业化源码审计系统被利用默认弱密码窃取政府内部一些产品源代码。</p>
<p>安装 SonarQube 时会默认开启 9000 端口，默认的管理员账号密码均为 admin。攻击者在网站上扫描开放 9000 端口的服务器，若发现是 SonarQube 就可以尝试用 admin 登录，如果能登录就可以窃取到上面的产品源码了。这是扫描端口服务非常典型的应用场景。</p>
<p>再比如端口 3389 用于远程桌面连接，如果发现了，也可以尝试用弱密码登录，或者利用一些远程桌面漏洞去测试。</p>
<p>针对开放端口和服务识别的方式，在渗透测试过程可以有针对性地采取不同的测试方法，虽然简单，但非常有效。</p>
<p>下面以探测拉勾网的端口服务为例，使用 Nmap 去探测：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> Nmap -A lagou.com</span></span><br><span class="line">Starting Nmap 7.91 ( https://Nmap.org ) at 2020-11-15 12:55 CST</span><br><span class="line">Nmap scan report for lagou.com (117.50.36.103)</span><br><span class="line">Host is up (0.037s latency).</span><br><span class="line">Other addresses for lagou.com (not scanned): 117.50.39.99 106.75.118.232</span><br><span class="line">Not shown: 993 closed ports</span><br><span class="line">PORT     STATE    SERVICE        VERSION</span><br><span class="line">80/tcp   open     http           OpenResty web app server</span><br><span class="line">|_http-server-header: openresty</span><br><span class="line">|_http-title: Did not follow redirect to https://www.lagou.com/</span><br><span class="line">135/tcp  filtered msrpc</span><br><span class="line">139/tcp  filtered netbios-ssn</span><br><span class="line">443/tcp  open     ssl/http       OpenResty web app server</span><br><span class="line">|_http-server-header: openresty</span><br><span class="line">|_http-title: Did not follow redirect to https://www.lagou.com/</span><br><span class="line"></span><br><span class="line">| ssl-cert: Subject: commonName=*.lagou.com/organizationName=\xE5\x8C\x97\xE4\xBA\xAC\xE6\x8B\x89\xE5\x8B\xBE\xE7\xBD\x91\xE7\xBB\x9C\xE6\x8A\x80\xE6\x9C\xAF\xE6\x9C\x89\xE9\x99\x90\xE5\x85\xAC\xE5\x8F\xB8/stateOrProvinceName=\xE5\x8C\x97\xE4\xBA\xAC/countryName=CN</span><br><span class="line">| Subject Alternative Name: DNS:*.lagou.com, DNS:lagou.com</span><br><span class="line">| Not valid before: 2019-04-01T08:51:44</span><br><span class="line">|_Not valid after:  2021-05-19T12:00:00</span><br><span class="line">|_ssl-date: TLS randomness does not represent time</span><br><span class="line">| tls-alpn: </span><br><span class="line">|   h2</span><br><span class="line">|_  http/1.1</span><br><span class="line">| tls-nextprotoneg: </span><br><span class="line">|   h2</span><br><span class="line">|_  http/1.1</span><br><span class="line">445/tcp  filtered microsoft-ds</span><br><span class="line">593/tcp  filtered http-rpc-epmap</span><br><span class="line">4444/tcp filtered krb524</span><br><span class="line">Service detection performed. Please report any incorrect results at https://Nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 24.95 seconds</span><br></pre></td></tr></table></figure>
<blockquote>
<p>-A 参数开启端口扫描、系统检测、版本检测、脚本扫描及路由追踪，是一个比较常用的参数。</p>
</blockquote>
<p>从扫描结果可以看到，lagou.com 开放端口：80、135、139、443、445、593、4444 以及对应的服务名称。</p>
<h4 id="3-4-网站指纹识别"><a href="#3-4-网站指纹识别" class="headerlink" title="3.4 网站指纹识别"></a>3.4 网站指纹识别</h4><p>网站指纹是 Web 服务组件在开发时留下的类型、版本等标记信息，包括 Web 服务器指纹、Web 运用指纹及前端框架指纹等。</p>
<p>除了前面用 Nmap 扫描端口和服务的方法，我们还可以通过前端网页和返回一些 HTTP 头信息来判断网站使用的哪些开发框架、服务器、系统，在渗透测试时也可以提供有针对性的测试思路。</p>
<p>推荐 Chrome 插件<strong>Wappalyzer</strong>。在你打开网站后，点击插件，按钮就会弹出如下类似信息，网站的指纹信息一目了然。</p>
<p>还有一个在线检测网站也支持指纹检测：<a target="_blank" rel="noopener" href="https://scan.top15.cn/web/">https://scan.top15.cn/web/</a></p>
<p>其他检测指纹的工具还有 WhatWeb、WPScan、JoomScan 等，可以自行搜索试用。</p>
<h4 id="3-5-旁站与-C-段查询"><a href="#3-5-旁站与-C-段查询" class="headerlink" title="3.5 旁站与 C 段查询"></a>3.5 旁站与 C 段查询</h4><p>有时测试的网站非常坚固，找不到任何漏洞，那我们就可以尝试<strong>对“旁站”进行渗透测试</strong>。旁站即同一服务器上的其他域名网站，如果你能攻下该旁站，就有机会间接拿到目标网站的权限。</p>
<p>还有另一种方法就是<strong>查询 C 段 IP</strong>，即同一内网段的服务器。比如 lagou.com 的 IP 为 106.75.118.232，那它的 C 段 IP 为 106.75.118.1~106.75.118.255，通过攻下同一 C 段的服务器，再间接渗透到目标服务器。</p>
<p>无论是旁站还是 C 段渗透方式，都是尝试从目标网站的旁路途径去间接渗透目标。在这里我推荐几个在线查询旁站和 C 段的网站，同时提供一些指纹检测信息。</p>
<h5 id="https-www-webscan-cc"><a href="#https-www-webscan-cc" class="headerlink" title="https://www.webscan.cc/"></a><a target="_blank" rel="noopener" href="https://www.webscan.cc/">https://www.webscan.cc/</a></h5><p><img src="CgpVE1_ZtGKACONzAAJroYitakc640.png" alt="The Web of WebScan" data-nodeid="15677"></p>
<h5 id="https-chapangzhan-com"><a href="#https-chapangzhan-com" class="headerlink" title="https://chapangzhan.com/"></a><a target="_blank" rel="noopener" href="https://chapangzhan.com/">https://chapangzhan.com/</a></h5><p><img src="Cip5yF_ZtGmAb6vpAAEgG3hQbFE603.png" alt="Drawing 13.png" data-nodeid="15684"></p>
<h4 id="3-6-WAF-探测"><a href="#3-6-WAF-探测" class="headerlink" title="3.6 WAF 探测"></a>3.6 WAF 探测</h4><p>当网站开启 WAF（<strong>Web 防火墙</strong>）时，很多测试请求都会被拦截，导致无法正常扫描。此时就要分析 WAF 找到绕过的方法，否则很难挖到漏洞。在不知道的情况下，还以为真的没有漏洞，其实有时只是被 WAF 拦截了而已。不过就算挖到了漏洞，利用起来也有一定的门槛。</p>
<p>因此，在测试前，若发现发包经常测试失败的话，除非网络不通，否则都建议先探测下 WAF。如果存在 WAF 就尝试寻找绕过的方法，再改造测试用例进行重试。</p>
<p>上一讲中介绍的 SQLMap 就支持 WAF 检测，上文介绍的 TScan 也支持，不过有时会误报。这里我主要介绍一下 SQLMap 检测 WAF 的方法，使用命令如下：<br><code>python sqlmap.py -u &quot;http://www.lagou.com&quot; --identify-waf --batch</code></p>
<p>上述代码中，—identify-waf 参数开启 WAF 检测，—batch 参数不询问用户输入，按默认执行。</p>
<p>SQLMap 既支持常见 WAF 的检测，也支持自己写脚本扩展检测能力。</p>
<h4 id="3-7-敏感信息收集"><a href="#3-7-敏感信息收集" class="headerlink" title="3.7 敏感信息收集"></a>3.7 敏感信息收集</h4><p>2019 年 4 月发生了一起大疆前员工泄密源码的事件，该名员工将大疆公司的在用产品源码开放到 GitHub 上，其中还包含云服务器上登录密钥，导致他人可以登录服务器查看上面存在的各种用户数据，最后被判刑。</p>
<p>从这件事也可以看到在网络上泄露的一些敏感信息，有时会直接导致服务器被入侵，公司相关的知识技术产权被窃取，造成实际的经济财产损失。</p>
<p>因此，在授权的渗透测试过程中，我们要多方收集与目标相关的信息，包括 Google、GitHub、社交平台等多方渠道。我曾多次利用 GitHub 找到一些账号密码或密钥，从而获得授权测试的网站的最高权限，收集 GitHub 相关的敏感信息如下：</p>
<ul>
<li>Gitrob，<a target="_blank" rel="noopener" href="https://github.com/michenriksen/gitrob；">https://github.com/michenriksen/gitrob；</a></li>
<li>码小六，<a target="_blank" rel="noopener" href="https://github.com/4x99/code6；">https://github.com/4x99/code6；</a></li>
<li>GitMonitor，<a target="_blank" rel="noopener" href="https://github.com/Talkaboutcybersecurity/GitMonitor。">https://github.com/Talkaboutcybersecurity/GitMonitor。</a></li>
</ul>
<p>根据收集到的相关信息，我们还可以制作字典用来猜解一些相关账号和密码，此类的相关工具有：</p>
<ul>
<li>Wordhound，<a target="_blank" rel="noopener" href="https://github.com/kurobeats/wordhound；">https://github.com/kurobeats/wordhound；</a></li>
<li>BruteScrape，<a target="_blank" rel="noopener" href="https://github.com/cheetz/brutescrape。">https://github.com/cheetz/brutescrape。</a></li>
</ul>
<p>推荐几款综合能力较好的信息收集工具。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/lanmaster53/recon-ng">Recon-NG</a> 是一款被动信息收集工具，它可以通过搜索获取 IP 地址、地理位置、用户、邮件地址、密码泄露或者其他敏感信息，最终生成一份完整报告。</li>
</ul>
<p><img src="Ciqc1F_ZtI6AbSuGAAFRQ7AvPZU584.png" alt="Drawing 15.png" data-nodeid="15735"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/kennbroorg/iKy">iKy</a>能够从 Twitter、GitHub、Skype、Linkedin、Instagram 等社交平台上收集信息，但需要提前设置各平台上的 API KEY，可以输入一个邮箱地址去搜索其上述平台上的关联信息，最后会以可视化效果展示出来，如下图所示。</li>
</ul>
<p><img src="CgqCHl_ZtJuAMTSAAGHC1Ng-II8825.png" alt="Drawing 16.png" data-nodeid="15742"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/leebaird/discover">discover</a>综合使用了很多工具，包括 dnsrecon、goofile、whois、recon-ng、dnssy\Nikto 等，它能够收集邮箱地址、雇员名字、主机信息、域名、IP 等一系列信息，最后提供 html 报告。</li>
</ul>
<p>信息收集不局限于上面举例的这些，有些你通过 Google 搜索到的文档、图片、敏感文件和目录等都可以。在后面的渗透测试过程中，说不定它们就能派上用场了。</p>
<p><strong>收集的信息不怕多，就怕不全。</strong></p>
<h4 id="3-8-总结"><a href="#3-8-总结" class="headerlink" title="3.8 总结"></a>3.8 总结</h4><p>包括域名和 IP、端口服务、网站指纹、旁站和 C 段、WAF、敏感信息等信息的收集。但信息收集不应局限于此，你可以根据渗透测试的需要，对扩展收集信息的范围，灵活变通。</p>
<p>收集信息之所以如此关键，是因为它能曝光出更多的攻击面，有助于我们寻找到目标的短板，这常常决定渗透测试的成败。</p>
<p>前面讲的域名收集方法中介绍了不少工具，但扫出来的域名该如何批量检测是否可访问呢？手工显然是不合理的，毕竟数量通常都很大。因此，我们需要自己动手写个脚本。</p>
<p>你可以尝试写一个看看，比如用 Python 的 requests 模块。但你要注意一下，有些域名只允许 https 或 http 的方式连接，需要把这些因素考虑进去。如果域名较多，你还要考虑下多线程并发提高检测速度，同时还要做好域名的去重。</p>
<h3 id="四、网络安全法"><a href="#四、网络安全法" class="headerlink" title="四、网络安全法"></a>四、网络安全法</h3><p>2017 年 6 月 1 日发布的《中华人民共和国网络安全法》，对一些网络犯罪行为有了更明确的规定，这里我主要讲下涉及个人的相关规定，其对应的法律条文摘抄如下：</p>
<blockquote>
<p>第十二条　任何个人和组织使用网络应当遵守宪法法律，遵守公共秩序，尊重社会公德，不得危害网络安全，不得利用网络从事危害国家安全、荣誉和利益，煽动颠覆国家政权、推翻社会主义制度，煽动分裂国家、破坏国家统一，宣扬恐怖主义、极端主义，宣扬民族仇恨、民族歧视，传播暴力、淫秽色情信息，编造、传播虚假信息扰乱经济秩序和社会秩序，以及侵害他人名誉、隐私、知识产权和其他合法权益等活动。<br>第二十七条　任何个人和组织不得从事非法侵入他人网络、干扰他人网络正常功能、窃取网络数据等危害网络安全的活动；不得提供专门用于从事侵入网络、干扰网络正常功能及防护措施、窃取网络数据等危害网络安全活动的程序、工具；明知他人从事危害网络安全的活动的，不得为其提供技术支持、广告推广、支付结算等帮助。<br>第四十四条　任何个人和组织不得窃取或者以其他非法方式获取个人信息，不得非法出售或者非法向他人提供个人信息。<br>第四十六条　任何个人和组织应当对其使用网络的行为负责，不得设立用于实施诈骗，传授犯罪方法，制作或者销售违禁物品、管制物品等违法犯罪活动的网站、通讯群组，不得利用网络发布涉及实施诈骗，制作或者销售违禁物品、管制物品以及其他违法犯罪活动的信息。<br>第四十八条　任何个人和组织发送的电子信息、提供的应用软件，不得设置恶意程序，不得含有法律、行政法规禁止发布或者传输的信息。<br>第七十六条　本法下列用语的含义：<br>（五）个人信息，是指以电子或者其他方式记录的能够单独或者与其他信息结合识别自然人个人身份的各种信息，包括但不限于自然人的姓名、出生日期、身份证件号码、个人生物识别信息、住址、电话号码等。</p>
</blockquote>
<p>息息相关的就是第 27 条规定，希望牢记：<strong>主动或协助他人入侵、提供黑客工具、发送恶意程序等行为都属于违法行为</strong>。</p>
<h4 id="刑法"><a href="#刑法" class="headerlink" title="刑法"></a>刑法</h4><p>《刑法》第 285 条和第 286 条中，分别规定了非法入侵计算机信息系统罪和破坏计算机信息系统罪：</p>
<blockquote>
<p>第二百八十五条　违反国家规定，侵入国家事务、国防建设、尖端科学技术领域的计算机信息系统的，处三年以下有期徒刑或者拘役。<br>第二百八十六条　违反国家规定，对计算机信息系统功能进行删除、修改、增加、干扰，造成计算机信息系统不能正常运行，后果严重的，处五年以下有期徒刑或者拘役；后果特别严重的，处五年以上有期徒刑。<br>违反国家规定，对计算机信息系统中存储、处理或者传输的数据和应用程序进行删除、修改、增加的操作，后果严重的，依照前款的规定处罚。<br>故意制作、传播计算机病毒等破坏性程序，影响计算机系统正常运行，后果严重的，依照第一款的规定处罚。</p>
</blockquote>
<p>最高人民法院最高人民检察院也对此作出了相关的解释，视具有以下情形之一的，就会被认定为“情节严重”：</p>
<blockquote>
<p>（一）获取支付结算、证券交易、期货交易等网络金融服务的身份认证信息十组以上的；<br>（二）获取第（一）项以外的身份认证信息五百组以上的；<br>（三）非法控制计算机信息系统二十台以上的；<br>（四）违法所得五千元以上或者造成经济损失一万元以上的；<br>（五）其他情节严重的情形。</p>
</blockquote>
<h4 id="测试与入侵"><a href="#测试与入侵" class="headerlink" title="测试与入侵"></a>测试与入侵</h4><p>现在很多企业都有自己的 SRC（安全响应中心）平台，都有公开的漏洞奖励计划，允许大家对其产品进行安全测试。也有一些第三方众测平台，招集优秀的白帽子进行安全测试，这种一般可以理解为授权，但也不是绝对的，主要还是得明确测试与入侵的区别。</p>
<p>测试与入侵的区别可以参考以下几点：</p>
<ul>
<li><p>是否窃取业务数据；</p>
</li>
<li><p>是否破坏业务的正常运营，特别是造没造成实际的经济损失；</p>
</li>
<li><p>是否恶意留取后门；</p>
</li>
<li><p>是否未经授权，对国家事务、国防建设、尖端科学技术领域的计算机信息系统进行测试。</p>
</li>
</ul>
<p>不过，这里更关键的是看企业的态度，如果企业真的追究起来，一般都是一告一个准，哪怕你第一时间报到 SRC 或第三方平台上了，比如著名的“袁炜事件”。</p>


        <hr>
        <!-- Pager -->
        <ul class="pager">
          
          <li class="previous">
            <a href="/cn/WebSecurity02-environment/" data-toggle="tooltip" data-placement="top" title="【Web安全扫盲】02-靶场：漏洞练习环境搭建">&larr; 上一篇</a>
          </li>
          
          
          <li class="next">
            <a href="/cn/30-层次模型-多节点模型-MultiJointModel/" data-toggle="tooltip" data-placement="top" title="【WebGL之巅】（完结篇）30-层次模型-多节点模型">下一篇 &rarr;</a>
          </li>
          
        </ul>

        
        <!-- tip start -->
        <!-- tip -->
<!-- tip start -->
<div class="tip">
  <p>
    Tips: 
    
      Please indicate the source and original author when reprinting or quoting this article.
    
  </p>
</div>
<!-- tip end -->

        <!-- tip end -->
        

        
        <!-- Sharing Srtart -->
        <!-- Social Social Share Post -->
<!-- Docs:https://github.com/overtrue/share.js -->

<div class="social-share" data-initialized="true" data-disabled="tencent ,douban ,qzone ,linkedin ,facebook ,google ,diandian" data-wechat-qrcode-helper="" align="center">
  <ul class="list-inline text-center social-share-ul">
    <!-- <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-twitter">
        <i class="fa fa-twitter fa-1x" aria-hidden="true"></i>
      </a>
    </li> -->
    <li class="social-share-li">
      <a class="social-share-icon icon-wechat">
        <i class="fa fa-weixin fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <!-- <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-weibo">
        <i class="fa fa-weibo fa-1x" aria-hidden="true"></i>
      </a>
    </li> -->
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon icon-qq">
        <i class="fa fa-qq fa-1x" aria-hidden="true"></i>
      </a>
    </li>
    <li class="social-share-li">
      <a target="_blank" class="social-share-icon" href="mailto:?subject=【Web安全扫盲】01-概览、常用渗透工具、信息收集&body=Hi,I found this website and thought you might like it https://yesmore.cc/cn/WebSecurity01/">
        <i class="fa fa-envelope fa-1x" aria-hidden="true"></i>
      </a>
    </li>
  </ul>
</div>

<!-- css & js -->
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"> -->
<script defer="defer" async="true" src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>

        <!-- Sharing End -->
        
        <hr>

        <!-- comments start -->
        <!-- 1. gitalk comment -->

  <!-- gitalk start -->
  <!-- Docs:https://github.com/gitalk/gitalk/blob/master/readme-cn.md -->

  <div id="gitalk-container"></div>

  
    <script src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/comment/gitalk.js"></script>
  

  <script>
    var gitalk = new Gitalk({
      clientID: '023394a5cc676891115f',
      clientSecret: '06373a7dc70dc35f5d7441845ec9ec6c275514e5',
      repo: 'gitblogv2',
      owner: 'yesmore',
      admin: 'yesmore',
      id: 'Tue Aug 10 2021 09:42:40 GMT+0800', // Ensure uniqueness and length less than 50
      distractionFreeMode: false, // Facebook-like distraction free mode
      perPage: 10,
      pagerDirection: 'last',
      createIssueManually: false,
      language: 'zh-CN',
      proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token'
    });
    gitalk.render('gitalk-container');

    var gtFolded = () => {
      setTimeout(function () {
        let markdownBody = document.getElementsByClassName("markdown-body");
        let list = Array.from(markdownBody);
        list.forEach(item => {
          if (item.clientHeight > 250) {
            item.classList.add('gt-comment-body-folded');
            item.style.maxHeight = '250px';
            item.title = 'Click to Expand';
            item.onclick = function () {
              item.classList.remove('gt-comment-body-folded');
              item.style.maxHeight = '';
              item.title = '';
              item.onclick = null;
            };
          }
        })
      }, 800);
    }
  </script>

  <!-- gitalk end -->


<!-- 2. gitment comment -->


<!-- 3. disqus comment -->


        <!-- comments end -->
        <hr>

      </div>

      <!-- Catalog: Tabe of Content -->
      <!-- Table of Contents -->

    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">目录</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%A7%88"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">一、概览</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1-1-Why-Web-%E5%AE%89%E5%85%A8%EF%BC%9F"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">1.1 Why Web 安全？</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1-2-%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9D%97"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text">1.2 学习模块</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%A8%A1%E5%9D%97%E4%B8%80%EF%BC%9AWeb-%E6%94%BB%E9%98%B2%E5%9F%BA%E7%A1%80"><span class="toc-nav-number">1.2.1.</span> <span class="toc-nav-text">模块一：Web 攻防基础</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%A8%A1%E5%9D%97%E4%BA%8C%EF%BC%9A%E6%BC%8F%E6%B4%9E%E6%94%BB%E9%98%B2%E5%8E%9F%E7%90%86"><span class="toc-nav-number">1.2.2.</span> <span class="toc-nav-text">模块二：漏洞攻防原理</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E6%A8%A1%E5%9D%97%E4%B8%89%EF%BC%9A-Web-%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE"><span class="toc-nav-number">1.2.3.</span> <span class="toc-nav-text">模块三： Web 安全建设</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1-3-How-%E5%AD%A6%E4%B9%A0web%E6%B8%97%E9%80%8F%E6%8A%80%E6%9C%AF"><span class="toc-nav-number">1.3.</span> <span class="toc-nav-text">1.3 How 学习web渗透技术</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#Web-%E6%89%80%E6%B6%89%E5%8F%8A%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-nav-number">1.3.1.</span> <span class="toc-nav-text">Web 所涉及的内容</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1-4-%E4%B8%89%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-nav-number">1.4.</span> <span class="toc-nav-text">1.4 三个阶段</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%98%B6%E6%AE%B5%E4%B8%80%EF%BC%9A%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.4.1.</span> <span class="toc-nav-text">阶段一：前端知识学习</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%98%B6%E6%AE%B5%E4%BA%8C%EF%BC%9A%E5%90%8E%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.4.2.</span> <span class="toc-nav-text">阶段二：后端知识学习</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%98%B6%E6%AE%B5%E4%B8%89%EF%BC%9A%E6%BC%8F%E6%B4%9E%E6%94%BB%E9%98%B2%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.4.3.</span> <span class="toc-nav-text">阶段三：漏洞攻防学习</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1-5-%E5%AD%A6%E4%B9%A0%E6%8A%80%E5%B7%A7"><span class="toc-nav-number">1.5.</span> <span class="toc-nav-text">1.5 学习技巧</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%9D%A2%E5%90%91%E5%B2%97%E4%BD%8D%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.5.1.</span> <span class="toc-nav-text">面向岗位学习</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%9D%A2%E5%90%91%E8%B5%8F%E9%87%91%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.5.2.</span> <span class="toc-nav-text">面向赏金学习</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%9D%A2%E5%90%91%E5%B7%A5%E5%85%B7%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.5.3.</span> <span class="toc-nav-text">面向工具学习</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%9D%A2%E5%90%91%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.5.4.</span> <span class="toc-nav-text">面向漏洞学习</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E9%9D%A2%E5%90%91%E5%A4%A7%E7%89%9B%E5%AD%A6%E4%B9%A0"><span class="toc-nav-number">1.5.5.</span> <span class="toc-nav-text">面向大牛学习</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E5%85%B3%E6%B3%A8%E5%AE%89%E5%85%A8%E5%8A%A8%E6%80%81"><span class="toc-nav-number">1.5.6.</span> <span class="toc-nav-text">关注安全动态</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#1-6-%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%E6%B8%85%E5%8D%95"><span class="toc-nav-number">1.6.</span> <span class="toc-nav-text">1.6 学习资料清单</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E4%B9%A6%E7%B1%8D%E6%B8%85%E5%8D%95"><span class="toc-nav-number">1.6.1.</span> <span class="toc-nav-text">书籍清单</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90"><span class="toc-nav-number">1.6.2.</span> <span class="toc-nav-text">网站推荐</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%BA%8C%E3%80%81%E5%B8%B8%E7%94%A8%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">二、常用渗透测试工具</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Burp-Suite"><span class="toc-nav-number">2.1.</span> <span class="toc-nav-text">Burp Suite</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Acunetix-WVS"><span class="toc-nav-number">2.2.</span> <span class="toc-nav-text">Acunetix WVS</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Xray"><span class="toc-nav-number">2.3.</span> <span class="toc-nav-text">Xray</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Goby"><span class="toc-nav-number">2.4.</span> <span class="toc-nav-text">Goby</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#SQLMap"><span class="toc-nav-number">2.5.</span> <span class="toc-nav-text">SQLMap</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Nmap"><span class="toc-nav-number">2.6.</span> <span class="toc-nav-text">Nmap</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Postman"><span class="toc-nav-number">2.7.</span> <span class="toc-nav-text">Postman</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#HackBar"><span class="toc-nav-number">2.8.</span> <span class="toc-nav-text">HackBar</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#NC%EF%BC%88NetCat%EF%BC%89"><span class="toc-nav-number">2.9.</span> <span class="toc-nav-text">NC（NetCat）</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Metasploit"><span class="toc-nav-number">2.10.</span> <span class="toc-nav-text">Metasploit</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E4%B8%89%E3%80%81%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">三、信息收集</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-1-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E5%88%86%E7%B1%BB"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text">3.1 信息收集分类</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-2-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E5%AE%9E%E8%B7%B5"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text">3.2 信息收集实践</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#OneForAll"><span class="toc-nav-number">3.2.1.</span> <span class="toc-nav-text">OneForAll</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#subDomainsBrute"><span class="toc-nav-number">3.2.2.</span> <span class="toc-nav-text">subDomainsBrute</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#subfinder"><span class="toc-nav-number">3.2.3.</span> <span class="toc-nav-text">subfinder</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#ESD"><span class="toc-nav-number">3.2.4.</span> <span class="toc-nav-text">ESD</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#Amass"><span class="toc-nav-number">3.2.5.</span> <span class="toc-nav-text">Amass</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#DNSDumpster"><span class="toc-nav-number">3.2.6.</span> <span class="toc-nav-text">DNSDumpster</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#Subdomain-Finder"><span class="toc-nav-number">3.2.7.</span> <span class="toc-nav-text">Subdomain Finder</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-3-%E7%AB%AF%E5%8F%A3%E6%9C%8D%E5%8A%A1%E6%A3%80%E6%B5%8B"><span class="toc-nav-number">3.3.</span> <span class="toc-nav-text">3.3 端口服务检测</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-4-%E7%BD%91%E7%AB%99%E6%8C%87%E7%BA%B9%E8%AF%86%E5%88%AB"><span class="toc-nav-number">3.4.</span> <span class="toc-nav-text">3.4 网站指纹识别</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-5-%E6%97%81%E7%AB%99%E4%B8%8E-C-%E6%AE%B5%E6%9F%A5%E8%AF%A2"><span class="toc-nav-number">3.5.</span> <span class="toc-nav-text">3.5 旁站与 C 段查询</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#https-www-webscan-cc"><span class="toc-nav-number">3.5.1.</span> <span class="toc-nav-text">https:&#x2F;&#x2F;www.webscan.cc&#x2F;</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#https-chapangzhan-com"><span class="toc-nav-number">3.5.2.</span> <span class="toc-nav-text">https:&#x2F;&#x2F;chapangzhan.com&#x2F;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-6-WAF-%E6%8E%A2%E6%B5%8B"><span class="toc-nav-number">3.6.</span> <span class="toc-nav-text">3.6 WAF 探测</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-7-%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-nav-number">3.7.</span> <span class="toc-nav-text">3.7 敏感信息收集</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#3-8-%E6%80%BB%E7%BB%93"><span class="toc-nav-number">3.8.</span> <span class="toc-nav-text">3.8 总结</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#%E5%9B%9B%E3%80%81%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%B3%95"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">四、网络安全法</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E5%88%91%E6%B3%95"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">刑法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%85%A5%E4%BE%B5"><span class="toc-nav-number">4.2.</span> <span class="toc-nav-text">测试与入侵</span></a></li></ol></li></ol>
        
        </div>
      </aside>
    



      <!-- Sidebar Container -->
      <div class="
                col-lg-8 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container">

        <!-- Featured Tags -->
        
        <section>
          <!-- no hr -->
          <h5>
            <a href="/tags/">特色标签</a>
          </h5>
          <div class="tags">
            
            <a class="tag" href="/tags/#Web安全" title="Web安全">Web安全</a>
            
            <a class="tag" href="/tags/#知识扫盲" title="知识扫盲">知识扫盲</a>
            
          </div>
        </section>
        

        <!-- Friends Blog -->
        
        <hr>
        <h5>链友</h5>
        <ul class="list-inline">

          
          <li>
            <a href="http://aoau.top:3004/courses/ps" target="_blank">白云轻舍</a>
          </li>
          
        </ul>
        
      </div>

      
    </div>
  </div> 
</article>



<!-- anchorjs start -->
<!-- async load function -->
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script type="text/javascript">
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function(e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  };
</script>
<script type="text/javascript">
  //anchor-js, Doc:http://bryanbraun.github.io/anchorjs/
  async ("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js", function() {
    anchors.options = {
      visible: 'hover',
      placement: 'left',
      // icon: 'ℬ'
      icon: '❡'
    };
    anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
  });
</script>
<style>
  /* place left on bigger screen */
  @media all and (min-width: 800px) {
    .anchorjs-link {
      position: absolute;
      left: -0.75em;
      font-size: 1.1em;
      margin-top: -0.1em;
    }
  }
</style>

<!-- anchorjs end -->




		<!-- Footer (contains ThemeColor、viewer) -->
		<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center">
          

          
            <li>
              <a target="_blank" href="https://github.com/yesmore">
                <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          

          

          

          

          

          

          

        </ul>
        <p class="copyright text-muted">
          Copyright &copy;
          大Van家
          2021

          <span style="margin-left: 5px;margin-right: 10px; border-right: 1px solid grey;"></span>
          <i class="fa fa-quote-right" style="color: rgb(231, 43, 43);"></i> 
          站点总字数：<span class="post-count">280.6k</span>
          <!-- <br>
          Theme by
          <a target="_blank" rel="noopener" href="http://beantech.org">BeanTech</a>
          <span style="display: inline-block; margin: 0 5px;">
            <i class="fa fa-heart"></i>
          </span>
          re-Ported by
          <a target="_blank" rel="noopener" href="https://v-vincen.life/">Live My Life</a>
          |
          <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=V-Vincen&repo=V-Vincen.github.io&type=star&count=true"></iframe> -->
        </p>
        
        
      </div>
    </div>
  </div>
</footer>

<a id="rocket" href="#top" class=""></a>


  <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/jquery.min.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/bootstrap.min.js"></script>

  <!-- Custom Theme JavaScript -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/hux-blog.min.js"></script>

  <!-- catalog -->
  <script async="true" type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/catalog.js"></script>

  <!-- totop(rocket) -->
  <script async="true" type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/totop.js"></script>

  
    <!-- Busuanzi JavaScript -->
    <script async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <!-- Scroll start -->
    <script async="async" type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/scroll.js"></script>
    <!-- Scroll end -->
  

  

  
    <!-- Mouseclick -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/mouseclick.js"  content='哈,哈哈,哈哈哈,嘿哈,嘿,嘻,嘻哈,哈,嘿嘿' color='#9933CC,#339933,#66CCCC,#FF99CC,#CCCCFF,#6666CC,#663399,#66CC99,#FF0033' ></script>
    <!-- Mouseclick -->
  

  
    <!-- ribbon -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/ribbonDynamic.js"></script>
  

  




  <!-- CDN: jsdelivr start -->
  <script async="async" type="text/javascript">
    let imgsUrl = document.getElementsByTagName("img");
    let imgUrl = Array.from(imgsUrl);

    let jsdelivr = "https://cdn.jsdelivr.net/gh/";
    let gh = "yesmore";
    let ghPages = gh + ".github.io";
    let pagePath = "cn/WebSecurity01/";
    let jsdelivrurl;
    if (pagePath.indexOf("index.html") != -1) {
      jsdelivrurl = jsdelivr + gh + "/" + ghPages;
    } else {
      jsdelivrurl = jsdelivr + gh + "/" + ghPages + "/" + pagePath;
    }
    imgUrl.forEach(item => {
      let oldUrl = item.getAttribute("src");
      let newUrl = oldUrl.replace(oldUrl, jsdelivrurl + oldUrl).replace("..", "");
      item.setAttribute("src", newUrl);
    });
  </script>
  <!-- CDN: jsdelivr end -->



  <!-- viewer start -->
  <!-- viewer start (Picture preview) -->
  
    <script async="async" type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/viewer/viewer.min.js"></script>
    <script async="async" type="text/javascript" src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/viewer/pic-viewer.js"></script>
  

  <!-- viewer end -->


<script>
  // async load function
  function async (u, c) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener('load', function (e) {
        c(null, e);
      }, false);
    }
    s.parentNode.insertBefore(o, s);
  }

  // fastClick.js
  async ("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function () {
    var $nav = document.querySelector("nav");
    if ($nav)
      FastClick.attach($nav);
    }
  )
</script>

<!-- Because of the native support for backtick-style fenced code blocks right within the Markdown is landed in Github Pages, From V1.6, There is no need for Highlight.js, so Huxblog drops it officially. -
https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0 - https://help.github.com/articles/creating-and-highlighting-code-blocks/ -->
<!-- <script> async ("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function () { hljs.initHighlightingOnLoad(); }) </script> <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet"> -->

<!-- jquery.tagcloud.js -->
<!-- <script> // only load tagcloud.js in tag.html if ($('#tag_cloud').length !== 0) { async ("https://yesmore.cc/js/jquery.tagcloud.js", function () { $.fn.tagcloud.defaults = { // size: { start: 1, end: 1, unit: 'em' }, color: {
start: '#bbbbee', end: '#0085a1' } }; $('#tag_cloud a').tagcloud(); }) } </script> -->


		<!-- Search -->
		
		<div class="popup search-popup local-search-popup">
  <span class="popup-btn-close">
    ESC
  </span>
  <div class="container">
    <div class="row">
      <!-- <div class="col-md-9 col-md-offset-1"> -->
      <div class="col-lg-9 col-lg-offset-1 col-md-10 col-md-offset-1 local-search-content">

        <div class="local-search-header clearfix">

          <div class="local-search-input-wrapper">
            <span class="search-icon">
              <i class="fa fa-search fa-lg" style="margin: 25px 10px 25px 20px;"></i>
            </span>
            <input autocomplete="off" placeholder="搜索..." type="text" id="local-search-input">
          </div>
        </div>
        <div id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>


  
    <script src="https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io/js/ziploader.js"></script>
  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    // monitor main search box;
    var onPopupClose = function (e) {
      $('.popup').fadeOut(300);
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $('.popup').fadeIn(300);
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }
    // get search zip version
    $.get('/searchVersion.json?t=' + (+new Date()), function (res) {
      if (localStorage.getItem('searchVersion') !== res) {
        localStorage.setItem('searchVersion', res);
        initSearchJson();
      }
    });

    function initSearchJson() {
      initLoad(['/search.flv'], {
        loadOptions: {
          success: function (obj) {
            localStorage.setItem('searchJson', obj['search.json'])
          },
          error: function (e) {
            return console.log(e)
          }
        },
        returnOptions: {
          'json': TYPE_TEXT
        },
        mimeOptions: {
          'json': 'application/json'
        }
      })
    }
    // search function;
    var searchFunc = function (search_id, content_id) {
      'use strict';
      isfetched = true;
      var datas = JSON.parse(localStorage.getItem('searchJson'));
      // console.log(search_id)
      var input = document.getElementById(search_id);
      var resultContent = document.getElementById(content_id);
      var inputEventFunction = function () {
        var searchText = input.value.trim().toLowerCase();
        var keywords = searchText.split(/[\s\-]+/);
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        var resultItems = [];
        if (searchText.length > 0) {
          // perform local searching
          datas.forEach(function (data) {
            var isMatch = false;
            var hitCount = 0;
            var searchTextCount = 0;
            var title = data.title
              ? data.title.trim()
              : '';
            var titleInLowerCase = title.toLowerCase();
            var content = data.content
              ? data.content.trim().replace(/<[^>]+>/g, "")
              : '';
            var contentInLowerCase = content.toLowerCase();
            var articleUrl = decodeURIComponent(data.url);

            var date = data.date;
            var dateTime = date.replace(/T/, " ").replace(/.000Z/, "");
            var imgUrl = data.header_img;
            
              imgUrl = 'https://cdn.jsdelivr.net/gh/yesmore/yesmore.github.io' + imgUrl;
            


            var indexOfTitle = [];
            var indexOfContent = [];
            // only match articles with not empty titles
            keywords.forEach(function (keyword) {
              function getIndexByWord(word, text, caseSensitive) {
                var wordLen = word.length;
                if (wordLen === 0) {
                  return [];
                }
                var startPosition = 0,
                  position = [],
                  index = [];
                if (!caseSensitive) {
                  text = text.toLowerCase();
                  word = word.toLowerCase();
                }
                while ((position = text.indexOf(word, startPosition)) > -1) {
                  index.push({position: position, word: word});
                  startPosition = position + wordLen;
                }
                return index;
              }
              indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
              indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
            });
            if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
              isMatch = true;
              hitCount = indexOfTitle.length + indexOfContent.length;
            }
            // show search results
            if (isMatch) {
              // sort index by position of keyword
              [indexOfTitle, indexOfContent].forEach(function (index) {
                index.sort(function (itemLeft, itemRight) {
                  if (itemRight.position !== itemLeft.position) {
                    return itemRight.position - itemLeft.position;
                  } else {
                    return itemLeft.word.length - itemRight.word.length;
                  }
                });
              });
              // merge hits into slices
              function mergeIntoSlice(text, start, end, index) {
                var item = index[index.length - 1];
                var position = item.position;
                var word = item.word;
                var hits = [];
                var searchTextCountInSlice = 0;
                while (position + word.length <= end && index.length != 0) {
                  if (word === searchText) {
                    searchTextCountInSlice++;
                  }
                  hits.push({position: position, length: word.length});
                  var wordEnd = position + word.length;
                  // move to next position of hit
                  index.pop();
                  while (index.length != 0) {
                    item = index[index.length - 1];
                    position = item.position;
                    word = item.word;
                    if (wordEnd > position) {
                      index.pop();
                    } else {
                      break;
                    }
                  }
                }
                searchTextCount += searchTextCountInSlice;
                return {hits: hits, start: start, end: end, searchTextCount: searchTextCountInSlice};
              }
              var slicesOfTitle = [];
              if (indexOfTitle.length != 0) {
                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
              }
              var slicesOfContent = [];
              while (indexOfContent.length != 0) {
                var item = indexOfContent[indexOfContent.length - 1];
                var position = item.position;
                var word = item.word;
                // cut out 100 characters
                var start = position - 20;
                var end = position + 80;
                if (start < 0) {
                  start = 0;
                }
                if (end < position + word.length) {
                  end = position + word.length;
                }
                if (end > content.length) {
                  end = content.length;
                }
                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
              }
              // sort slices in content by search text's count and hits' count
              slicesOfContent.sort(function (sliceLeft, sliceRight) {
                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                  return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                  return sliceRight.hits.length - sliceLeft.hits.length;
                } else {
                  return sliceLeft.start - sliceRight.start;
                }
              });
              // select top N slices in content
              var upperBound = parseInt('1');
              if (upperBound >= 0) {
                slicesOfContent = slicesOfContent.slice(0, upperBound);
              }
              // highlight title and content
              function highlightKeyword(text, slice) {
                var result = '';
                var prevEnd = slice.start;
                slice.hits.forEach(function (hit) {
                  result += text.substring(prevEnd, hit.position);
                  var end = hit.position + hit.length;
                  result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                  prevEnd = end;
                });
                result += text.substring(prevEnd, slice.end);
                return result;
              }
              var resultItem = '';

              // if (slicesOfTitle.length != 0) {   resultItem += "<li><a target='_blank' href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>"; } else {   resultItem += "<li><a target='_blank' href='" +
              // articleUrl + "' class='search-result-title'>" + title + "</a>"; } slicesOfContent.forEach(function (slice) {   resultItem += "<a target='_blank' href='" + articleUrl + "'><p class=\"search-result\">" + highlightKeyword(content, slice) +
              // "...</p></a>"; }); resultItem += "</li>";

              if (slicesOfTitle.length != 0) {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</div><time class='search-result-date'>" + dateTime + "</time>";
              } else {
                resultItem += "<a target='_blank' href='" + articleUrl + "' class='search-result'><div class='search-result-left'><div class='search-result-title'>" + title + "</div><time class='search-result-date'>" + dateTime + "</time>";
              }
              slicesOfContent.forEach(function (slice) {
                resultItem += "<p class=\"search-result-content\">" + highlightKeyword(content, slice) + "...</p>";
              });
              resultItem += "</div><div class='search-result-right'><img class='media-image' src='" + imgUrl + "' width='64px' height='48px'></img></div></a>";

              resultItems.push({item: resultItem, searchTextCount: searchTextCount, hitCount: hitCount, id: resultItems.length});
            }
          })
        };

        if (keywords.length === 1 && keywords[0] === "") {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else if (resultItems.length === 0) {
          resultContent.innerHTML = '<div id="no-result"></div>'
        } else {
          resultItems.sort(function (resultLeft, resultRight) {
            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
              return resultRight.searchTextCount - resultLeft.searchTextCount;
            } else if (resultLeft.hitCount !== resultRight.hitCount) {
              return resultRight.hitCount - resultLeft.hitCount;
            } else {
              return resultRight.id - resultLeft.id;
            }
          });
          var searchResultList = '<div class=\"search-result-list\">';
          resultItems.forEach(function (result) {
            searchResultList += result.item;
          })
          searchResultList += "</div>";
          resultContent.innerHTML = searchResultList;
        }
      }
      if ('auto' === 'auto') {
        input.addEventListener('input', inputEventFunction);
      } else {
        $('.search-icon').click(inputEventFunction);
        input.addEventListener('keypress', function (event) {
          if (event.keyCode === 13) {
            inputEventFunction();
          }
        });
      }
      // remove loading animation
      $('body').css('overflow', '');
      proceedsearch();
    }
    // handle and trigger popup window;
    $('.popup-trigger').click(function (e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc('local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });
    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function (e) {
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 && $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });

    document.addEventListener('mouseup', (e) => {
      var _con = document.querySelector(".local-search-content");
      if (_con) {
        if (!_con.contains(e.target)) {
          onPopupClose();
        }
      }
    });
  </script>


		
	<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://mathjax.josephjctang.com/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
